{"ast":null,"code":"import request from \"@/utils/request\";\nimport { ref } from \"vue\";\nexport default {\n  name: \"adminAddQuestions\",\n\n  data() {\n    return {\n      changeNumber: null,\n      //选择题出题数量\n      fillNumber: null,\n      //填空题出题数量\n      judgeNumber: null,\n      //判断题出题数量\n      activeName: 'first',\n      //活动选项卡\n      options: [//题库类型\n      {\n        value: '选择题',\n        label: '选择题'\n      }, {\n        value: '填空题',\n        label: '填空题'\n      }, {\n        value: '判断题',\n        label: '判断题'\n      }],\n      difficulty: [//试题难度\n      {\n        value: '简单',\n        label: '简单'\n      }, {\n        value: '一般',\n        label: '一般'\n      }, {\n        value: '困难',\n        label: '困难'\n      }],\n      difficultyValue: '简单',\n      levels: [//难度等级\n      {\n        value: '1',\n        label: '1'\n      }, {\n        value: '2',\n        label: '2'\n      }, {\n        value: '3',\n        label: '3'\n      }, {\n        value: '4',\n        label: '4'\n      }, {\n        value: '5',\n        label: '5'\n      }],\n      rights: [//正确答案\n      {\n        value: 'A',\n        label: 'A'\n      }, {\n        value: 'B',\n        label: 'B'\n      }, {\n        value: 'C',\n        label: 'C'\n      }, {\n        value: 'D',\n        label: 'D'\n      }],\n      paperId: null,\n      optionValue: '选择题',\n      //题型选中值\n      subject: '',\n      //试卷名称用来接收路由参数\n      postChange: {\n        //选择题提交内容\n        subject: '',\n        //试卷名称\n        level: '',\n        //难度等级选中值\n        rightAnswer: '',\n        //正确答案选中值\n        section: '',\n        //对应章节\n        question: '',\n        //题目\n        analysis: '',\n        //解析\n        answerA: '',\n        answerB: '',\n        answerC: '',\n        answerD: ''\n      },\n      postFill: {\n        //填空题提交内容\n        subject: '',\n        //试卷名称\n        level: '',\n        //难度等级选中值\n        answer: '',\n        //正确答案\n        section: '',\n        //对应章节\n        question: '',\n        //题目\n        analysis: '' //解析\n\n      },\n      postJudge: {\n        //判断题提交内容\n        subject: '',\n        //试卷名称\n        level: '',\n        //难度等级选中值\n        answer: '',\n        //正确答案\n        section: '',\n        //对应章节\n        question: '',\n        //题目\n        analysis: '' //解析\n\n      },\n      postPaper: {\n        //考试管理表对应字段\n        paperId: null,\n        questionType: null,\n        // 试卷类型 1--选择题  2--填空题   3--判断题\n        questionId: null\n      }\n    };\n  },\n\n  created() {\n    this.getParams();\n  },\n\n  methods: {\n    // handleClick(tab, event) {\n    //   console.log(tab, event);\n    // },\n    // create() {\n    //   request.post(\"/item\", {\n    //     changeNumber: this.changeNumber,\n    //     fillNumber: this.fillNumber,\n    //     judgeNumber: this.judgeNumber,\n    //     paperId: this.postPaper.paperId,\n    //     subject: '计算机网络' //题目数量太少，指定为计算机网络出题\n    //   }).then(res => {\n    //     console.log(res)\n    //     if(res.code=='0'){\n    //       setTimeout(() => {\n    //         this.$router.push({path:'/paperManage',query: {paperId: this.postPaper.paperId}})\n    //         // this.$router.push({path: '/paperManage'})\n    //       },1000)\n    //       this.$message({\n    //         type:\"success\",\n    //         message:\"组卷成功\"\n    //       })\n    //     }else if(res.code==\"0000\"){\n    //       this.$message({\n    //         message: '组卷失败',\n    //         type: 'error'\n    //       })\n    //     }\n    //\n    //   })\n    // },\n    getParams() {\n      let subject = this.$route.query.subject; //获取试卷名称\n\n      let paperId = this.$route.query.paperId; //获取paperId\n\n      this.activeName = this.$route.query.tabs;\n      this.paperId = paperId;\n      this.subject = subject;\n      this.postPaper.paperId = paperId;\n    },\n\n    changeSubmit() {\n      //选择题题库提交\n      this.postChange.subject = this.subject;\n      request.post(\"/multiQuestion\", this.postChange).then(res => {\n        //添加成功显示提示\n        let status = res.code;\n\n        if (status == '0') {\n          this.$message({\n            message: '已添加到题库',\n            type: 'success'\n          });\n          this.postChange = {};\n        }\n      }).then(() => {\n        request.post(\"/multiQuestion/new\").then(res => {\n          //获取当前题目的questionId\n          let questionId = res.data.data.questionId;\n          this.postPaper.questionId = questionId;\n          this.postPaper.questionType = 1;\n          request.post(\"/paperManage\", { ...this.postPaper\n          });\n        });\n      });\n    },\n\n    fillSubmit() {\n      //填空题提交\n      this.postFill.subject = this.subject;\n      request.post(\"/fillQuestion\", this.postFill).then(res => {\n        let status = res.code;\n\n        if (status == '0') {\n          this.$message({\n            message: '已添加到题库',\n            type: 'success'\n          });\n          this.postFill = {};\n        }\n      }).then(() => {\n        request.get(\"/fillQuestion/new\").then(res => {\n          //获取当前题目的questionId\n          let questionId = res.data.data.questionId;\n          this.postPaper.questionId = questionId;\n          this.postPaper.questionType = 2;\n          request.post(\"/paperManage\", { ...this.postPaper\n          });\n        });\n      });\n    },\n\n    judgeSubmit() {\n      //判断题提交\n      this.postJudge.subject = this.subject;\n      request.post(\"/judgeQuestion\", this.postJudge).then(res => {\n        let status = res.code;\n\n        if (status == '0') {\n          this.$message({\n            message: '已添加到题库',\n            type: 'success'\n          });\n          this.postJudge = {};\n        }\n      }).then(() => {\n        request.get(\"/judgeQuestion/new\").then(res => {\n          //获取当前题目的questionId\n          let questionId = res.data.records.questionId;\n          this.postPaper.questionId = questionId;\n          this.postPaper.questionType = 3;\n          request.post(\"/paperManage\", { ...this.postPaper\n          });\n        });\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["request","ref","name","data","changeNumber","fillNumber","judgeNumber","activeName","options","value","label","difficulty","difficultyValue","levels","rights","paperId","optionValue","subject","postChange","level","rightAnswer","section","question","analysis","answerA","answerB","answerC","answerD","postFill","answer","postJudge","postPaper","questionType","questionId","created","getParams","methods","$route","query","tabs","changeSubmit","post","then","res","status","code","$message","message","type","fillSubmit","get","judgeSubmit","records"],"sourceRoot":"","sources":["F:\\21-22-2\\大三短学期\\大作业\\Spring-Vue-Exam-Pure-main\\Spring-Vue-Exam-Pure-main\\vue\\src\\components\\admin\\adminAddQuestions.vue"],"sourcesContent":["// 添加题库\r\n<template>\r\n  <div v-wechat-title=\"$route.meta.title\" class=\"add\">\r\n    <el-tabs class=\"tabs\">\r\n      <el-tab-pane label=\"添加题目\">\r\n        <span slot=\"label\"><i class=\"el-icon-circle-plus\"></i>添加试题</span>\r\n        <section class=\"append\">\r\n          <ul>\r\n            <li>\r\n              <span>题目类型:</span>\r\n              <el-select v-model=\"optionValue\" placeholder=\"请选择题型\" class=\"w150\">\r\n                <el-option\r\n                    v-for=\"item in options\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </li>\r\n            <li v-if=\"optionValue == '选择题'\">\r\n              <span>所属章节：</span>\r\n              <el-input\r\n                  placeholder=\"请输入对应章节\"\r\n                  v-model=\"postChange.section\"\r\n                  class=\"w150\"\r\n                  clearable>\r\n              </el-input>\r\n            </li>\r\n            <li v-if=\"optionValue == '填空题'\">\r\n              <span>所属章节：</span>\r\n              <el-input\r\n                  placeholder=\"请输入对应章节\"\r\n                  v-model=\"postFill.section\"\r\n                  class=\"w150\"\r\n                  clearable>\r\n              </el-input>\r\n            </li>\r\n            <li v-if=\"optionValue == '判断题'\">\r\n              <span>所属章节：</span>\r\n              <el-input\r\n                  placeholder=\"请输入对应章节\"\r\n                  v-model=\"postJudge.section\"\r\n                  class=\"w150\"\r\n                  clearable>\r\n              </el-input>\r\n            </li>\r\n            <li v-if=\"optionValue == '选择题'\">\r\n              <span>难度等级:</span>\r\n              <el-select v-model=\"postChange.level\" placeholder=\"选择难度等级\" class=\"w150\">\r\n                <el-option\r\n                    v-for=\"item in levels\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </li>\r\n            <li v-if=\"optionValue == '填空题'\">\r\n              <span>难度等级:</span>\r\n              <el-select v-model=\"postFill.level\" placeholder=\"选择难度等级\" class=\"w150\">\r\n                <el-option\r\n                    v-for=\"item in levels\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </li>\r\n            <li v-if=\"optionValue == '判断题'\">\r\n              <span>难度等级:</span>\r\n              <el-select v-model=\"postJudge.level\" placeholder=\"选择难度等级\" class=\"w150\">\r\n                <el-option\r\n                    v-for=\"item in levels\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </li>\r\n            <li v-if=\"optionValue == '选择题'\">\r\n              <span>正确选项:</span>\r\n              <el-select v-model=\"postChange.rightAnswer\" placeholder=\"选择正确答案\" class=\"w150\">\r\n                <el-option\r\n                    v-for=\"item in rights\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </li>\r\n          </ul>\r\n          <!-- 选择题部分 -->\r\n          <div class=\"change\" v-if=\"optionValue == '选择题'\">\r\n            <div class=\"title\">\r\n              <el-tag>题目:</el-tag><span>在下面的输入框中输入题目,形如--DNS 服务器和DHCP服务器的作用是（）</span>\r\n              <el-input\r\n                  type=\"textarea\"\r\n                  rows=\"4\"\r\n                  v-model=\"postChange.question\"\r\n                  placeholder=\"请输入题目内容\"\r\n                  resize=\"none\"\r\n                  class=\"answer\">\r\n              </el-input>\r\n            </div>\r\n            <div class=\"options\">\r\n              <ul>\r\n                <li>\r\n                  <el-tag type=\"success\">A</el-tag>\r\n                  <el-input\r\n                      placeholder=\"请输入选项A的内容\"\r\n                      v-model=\"postChange.answerA\"\r\n                      clearable=\"\">\r\n                  </el-input>\r\n                </li>\r\n                <li>\r\n                  <el-tag type=\"success\">B</el-tag>\r\n                  <el-input\r\n                      placeholder=\"请输入选项B的内容\"\r\n                      v-model=\"postChange.answerB\"\r\n                      clearable=\"\">\r\n                  </el-input>\r\n                </li>\r\n                <li>\r\n                  <el-tag type=\"success\">C</el-tag>\r\n                  <el-input\r\n                      placeholder=\"请输入选项C的内容\"\r\n                      v-model=\"postChange.answerC\"\r\n                      clearable=\"\">\r\n                  </el-input>\r\n                </li>\r\n                <li>\r\n                  <el-tag type=\"success\">D</el-tag>\r\n                  <el-input\r\n                      placeholder=\"请输入选项D的内容\"\r\n                      v-model=\"postChange.answerD\"\r\n                      clearable=\"\">\r\n                  </el-input>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"title\">\r\n              <el-tag>解析:</el-tag><span>在下面的输入框中输入题目解析</span>\r\n              <el-input\r\n                  type=\"textarea\"\r\n                  rows=\"4\"\r\n                  v-model=\"postChange.analysis\"\r\n                  placeholder=\"请输入答案解析\"\r\n                  resize=\"none\"\r\n                  class=\"answer\">\r\n              </el-input>\r\n            </div>\r\n            <div class=\"submit\">\r\n              <el-button type=\"primary\" @click=\"changeSubmit()\">立即添加</el-button>\r\n            </div>\r\n          </div>\r\n          <!-- 填空题部分 -->\r\n          <div class=\"change fill\" v-if=\"optionValue == '填空题'\">\r\n            <div class=\"title\">\r\n              <el-tag>题目:</el-tag><span>输入题目,形如--从计算机网络系统组成的角度看，计算机网络可以分为()和()。注意需要考生答题部分一定要用括号（英文半角）括起来。</span>\r\n              <el-input\r\n                  type=\"textarea\"\r\n                  rows=\"4\"\r\n                  v-model=\"postFill.question\"\r\n                  placeholder=\"请输入题目内容\"\r\n                  resize=\"none\"\r\n                  class=\"answer\">\r\n              </el-input>\r\n            </div>\r\n            <div class=\"fillAnswer\">\r\n              <el-tag>正确答案:</el-tag>\r\n              <el-input v-model=\"postFill.answer\"></el-input>\r\n            </div>\r\n            <div class=\"title analysis\">\r\n              <el-tag type=\"success\">解析:</el-tag><span>下方输入框中输入答案解析</span>\r\n              <el-input\r\n                  type=\"textarea\"\r\n                  rows=\"4\"\r\n                  v-model=\"postFill.analysis\"\r\n                  placeholder=\"请输入答案解析\"\r\n                  resize=\"none\"\r\n                  class=\"answer\">\r\n              </el-input>\r\n            </div>\r\n            <div class=\"submit\">\r\n              <el-button type=\"primary\" @click=\"fillSubmit()\">立即添加</el-button>\r\n            </div>\r\n          </div>\r\n          <!-- 判断题 -->\r\n          <div class=\"change judge\" v-if=\"optionValue == '判断题'\">\r\n            <div class=\"title\">\r\n              <el-tag>题目:</el-tag><span>在下面的输入框中输入题目</span>\r\n              <el-input\r\n                  type=\"textarea\"\r\n                  rows=\"4\"\r\n                  v-model=\"postJudge.question\"\r\n                  placeholder=\"请输入题目内容\"\r\n                  resize=\"none\"\r\n                  class=\"answer\">\r\n              </el-input>\r\n            </div>\r\n            <div class=\"judgeAnswer\">\r\n              <el-radio v-model=\"postJudge.answer\" label=\"T\">正确</el-radio>\r\n              <el-radio v-model=\"postJudge.answer\" label=\"F\">错误</el-radio>\r\n            </div>\r\n            <div class=\"title\">\r\n              <el-tag>解析:</el-tag><span>在下面的输入框中输入题目解析</span>\r\n              <el-input\r\n                  type=\"textarea\"\r\n                  rows=\"4\"\r\n                  v-model=\"postJudge.analysis\"\r\n                  placeholder=\"请输入答案解析\"\r\n                  resize=\"none\"\r\n                  class=\"answer\">\r\n              </el-input>\r\n            </div>\r\n            <div class=\"submit\">\r\n              <el-button type=\"primary\" @click=\"judgeSubmit()\">立即添加</el-button>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport { ref } from \"vue\";\r\n\r\nexport default {\r\n  name: \"adminAddQuestions\",\r\n  data() {\r\n    return {\r\n      changeNumber: null, //选择题出题数量\r\n      fillNumber: null, //填空题出题数量\r\n      judgeNumber: null, //判断题出题数量\r\n      activeName: 'first',  //活动选项卡\r\n      options: [ //题库类型\r\n        {\r\n          value: '选择题',\r\n          label: '选择题'\r\n        },\r\n        {\r\n          value: '填空题',\r\n          label: '填空题'\r\n        },\r\n        {\r\n          value: '判断题',\r\n          label: '判断题'\r\n        },\r\n      ],\r\n      difficulty: [ //试题难度\r\n        {\r\n          value: '简单',\r\n          label: '简单'\r\n        },\r\n        {\r\n          value: '一般',\r\n          label: '一般'\r\n        },\r\n        {\r\n          value: '困难',\r\n          label: '困难'\r\n        }\r\n      ],\r\n      difficultyValue: '简单',\r\n      levels: [ //难度等级\r\n        {\r\n          value: '1',\r\n          label: '1'\r\n        },\r\n        {\r\n          value: '2',\r\n          label: '2'\r\n        },\r\n        {\r\n          value: '3',\r\n          label: '3'\r\n        },\r\n        {\r\n          value: '4',\r\n          label: '4'\r\n        },\r\n        {\r\n          value: '5',\r\n          label: '5'\r\n        },\r\n      ],\r\n      rights: [ //正确答案\r\n        {\r\n          value: 'A',\r\n          label: 'A'\r\n        },\r\n        {\r\n          value: 'B',\r\n          label: 'B'\r\n        },\r\n        {\r\n          value: 'C',\r\n          label: 'C'\r\n        },\r\n        {\r\n          value: 'D',\r\n          label: 'D'\r\n        },\r\n      ],\r\n      paperId: null,\r\n      optionValue: '选择题', //题型选中值\r\n      subject: '', //试卷名称用来接收路由参数\r\n      postChange: { //选择题提交内容\r\n        subject: '', //试卷名称\r\n        level: '', //难度等级选中值\r\n        rightAnswer: '', //正确答案选中值\r\n        section: '', //对应章节\r\n        question: '', //题目\r\n        analysis: '', //解析\r\n        answerA: '',\r\n        answerB: '',\r\n        answerC: '',\r\n        answerD: '',\r\n      },\r\n      postFill: { //填空题提交内容\r\n        subject: '', //试卷名称\r\n        level: '', //难度等级选中值\r\n        answer: '', //正确答案\r\n        section: '', //对应章节\r\n        question: '', //题目\r\n        analysis: '', //解析\r\n      },\r\n      postJudge: { //判断题提交内容\r\n        subject: '', //试卷名称\r\n        level: '', //难度等级选中值\r\n        answer: '', //正确答案\r\n        section: '', //对应章节\r\n        question: '', //题目\r\n        analysis: '', //解析\r\n      },\r\n      postPaper: { //考试管理表对应字段\r\n        paperId: null,\r\n        questionType: null, // 试卷类型 1--选择题  2--填空题   3--判断题\r\n        questionId: null,\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getParams()\r\n  },\r\n  methods: {\r\n    // handleClick(tab, event) {\r\n    //   console.log(tab, event);\r\n    // },\r\n    // create() {\r\n    //   request.post(\"/item\", {\r\n    //     changeNumber: this.changeNumber,\r\n    //     fillNumber: this.fillNumber,\r\n    //     judgeNumber: this.judgeNumber,\r\n    //     paperId: this.postPaper.paperId,\r\n    //     subject: '计算机网络' //题目数量太少，指定为计算机网络出题\r\n    //   }).then(res => {\r\n    //     console.log(res)\r\n    //     if(res.code=='0'){\r\n    //       setTimeout(() => {\r\n    //         this.$router.push({path:'/paperManage',query: {paperId: this.postPaper.paperId}})\r\n    //         // this.$router.push({path: '/paperManage'})\r\n    //       },1000)\r\n    //       this.$message({\r\n    //         type:\"success\",\r\n    //         message:\"组卷成功\"\r\n    //       })\r\n    //     }else if(res.code==\"0000\"){\r\n    //       this.$message({\r\n    //         message: '组卷失败',\r\n    //         type: 'error'\r\n    //       })\r\n    //     }\r\n    //\r\n    //   })\r\n    // },\r\n    getParams() {\r\n      let subject = this.$route.query.subject //获取试卷名称\r\n      let paperId = this.$route.query.paperId //获取paperId\r\n      this.activeName = this.$route.query.tabs\r\n      this.paperId = paperId\r\n      this.subject = subject\r\n      this.postPaper.paperId = paperId\r\n    },\r\n    changeSubmit() { //选择题题库提交\r\n      this.postChange.subject = this.subject\r\n      request.post(\"/multiQuestion\",this.postChange).then(res => { //添加成功显示提示\r\n        let status = res.code\r\n        if(status == '0') {\r\n          this.$message({\r\n            message: '已添加到题库',\r\n            type: 'success'\r\n          })\r\n          this.postChange = {}\r\n        }\r\n      }).then(() => {\r\n        request.post(\"/multiQuestion/new\").then(res => { //获取当前题目的questionId\r\n          let questionId = res.data.data.questionId\r\n          this.postPaper.questionId = questionId\r\n          this.postPaper.questionType = 1\r\n          request.post(\"/paperManage\",{ ...this.postPaper})\r\n        })\r\n      })\r\n    },\r\n    fillSubmit() { //填空题提交\r\n      this.postFill.subject = this.subject\r\n      request.post(\"/fillQuestion\",this.postFill).then(res => {\r\n        let status = res.code\r\n        if(status == '0') {\r\n          this.$message({\r\n            message: '已添加到题库',\r\n            type: 'success'\r\n          })\r\n          this.postFill = {}\r\n        }\r\n      }).then(() => {\r\n        request.get(\"/fillQuestion/new\").then(res => { //获取当前题目的questionId\r\n          let questionId = res.data.data.questionId\r\n          this.postPaper.questionId = questionId\r\n          this.postPaper.questionType = 2\r\n          request.post(\"/paperManage\",{ ...this.postPaper})\r\n        })\r\n      })\r\n    },\r\n    judgeSubmit() { //判断题提交\r\n      this.postJudge.subject = this.subject\r\n      request.post(\"/judgeQuestion\",this.postJudge).then(res => {\r\n        let status = res.code\r\n        if(status == '0') {\r\n          this.$message({\r\n            message: '已添加到题库',\r\n            type: 'success'\r\n          })\r\n          this.postJudge = {}\r\n        }\r\n      }).then(() => {\r\n        request.get(\"/judgeQuestion/new\").then(res => { //获取当前题目的questionId\r\n          let questionId = res.data.records.questionId\r\n          this.postPaper.questionId = questionId\r\n          this.postPaper.questionType = 3\r\n          request.post(\"/paperManage\",{ ...this.postPaper})\r\n        })\r\n      })\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tabs{\r\n  padding: 12px;\r\n}\r\n.add {\r\n  margin: 5px 80px;\r\n  .box {\r\n    padding: 0px 20px;\r\n    ul li {\r\n      margin: 10px 0px;\r\n      display: flex;\r\n      align-items: center;\r\n      .el-input {\r\n        width: 6%;\r\n      }\r\n      .w150 {\r\n        margin-left: 20px;\r\n        width: 7%;\r\n      }\r\n    }\r\n  }\r\n  .el-icon-circle-plus {\r\n    margin-right: 10px;\r\n    vertical-align: middle;\r\n  }\r\n  .icon-daoru-tianchong {\r\n    margin-right: 10px;\r\n    vertical-align: middle;\r\n  }\r\n  .append {\r\n    margin: 0px 20px;\r\n    ul {\r\n      display: flex;\r\n      align-items: center;\r\n      li {\r\n        margin-right: 20px;\r\n      }\r\n    }\r\n    .change {\r\n      margin-top: 20px;\r\n      padding: 20px 16px;\r\n      background-color: #E7F6F6;\r\n      border-radius: 4px;\r\n      .title {\r\n        padding-left: 6px;\r\n        color: #2f4f4f;\r\n        span:nth-child(1) {\r\n          margin-right: 6px;\r\n        }\r\n        .answer {\r\n          margin: 20px 0px 20px 8px;\r\n        }\r\n        .el-textarea {\r\n          width: 98% !important;\r\n        }\r\n      }\r\n      .options {\r\n        ul {\r\n          display: flex;\r\n          flex-direction: column;\r\n        }\r\n        ul li {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          width: 98%;\r\n          margin: 10px 0px;\r\n          span {\r\n            margin-right: 20px;\r\n          }\r\n        }\r\n      }\r\n      .submit {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n      }\r\n    }\r\n    .fill {\r\n      .fillAnswer {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        span {\r\n          margin-right: 6px;\r\n        }\r\n        .el-input {\r\n          width: 91% !important;\r\n        }\r\n      }\r\n      .analysis {\r\n        margin-top: 20px;\r\n        margin-left: 5px;\r\n      }\r\n    }\r\n    .judge {\r\n      .judgeAnswer {\r\n        margin-left: 20px;\r\n        margin-bottom: 20px;\r\n      }\r\n    }\r\n    .w150 {\r\n      width: 150px;\r\n    }\r\n    li:nth-child(2) {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}
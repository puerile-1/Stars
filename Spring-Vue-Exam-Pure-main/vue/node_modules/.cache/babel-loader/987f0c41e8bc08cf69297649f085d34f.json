{"ast":null,"code":"// @ is an alias to /src\nimport request from \"@/utils/request\";\nexport default {\n  name: 'paperManage',\n  components: {},\n\n  data() {\n    return {\n      search: '',\n      currentPage4: 1,\n      pageSize4: 10,\n      total: 0,\n      dialogVisible: false,\n      subject: '',\n      paperId: 0,\n      form: {},\n      tableData: []\n    };\n  },\n\n  created() {\n    this.load();\n  },\n\n  methods: {\n    load() {\n      this.subject = this.$route.query.subject; //获取试卷名称\n\n      this.paperId = this.$route.query.paperId; //获取paperId\n\n      console.log(this.paperId);\n      request.get(\"/paperManage\", {\n        params: {\n          // pageNum:this.currentPage4,\n          // pageSize:this.pageSize4,\n          // search:this.search,\n          paperId: this.paperId\n        }\n      }).then(res => {\n        console.log(res);\n        this.tableData = res.data[1].concat(res.data[2].concat(res.data[3]));\n        this.total = res.data.total;\n      });\n    },\n\n    handleEdit(row) {\n      this.form = JSON.parse(JSON.stringify(row));\n      this.dialogVisible = true;\n    },\n\n    handleSizeChange(pageSize) {\n      //改变当前每页的个数\n      this.pageSize4 = pageSize;\n      this.load();\n    },\n\n    handleCurrentChange(pageNum) {\n      //改变当前页码\n      this.currentPage4 = pageNum;\n      this.load();\n    },\n\n    tableRowClassName({\n      row,\n      rowIndex\n    }) {\n      if (rowIndex % 2 == 0) {\n        return \"warning-row\";\n      } else {\n        return \"success-row\";\n      }\n    },\n\n    autoAdd() {\n      //自动增加题库\n      this.$router.push({\n        path: '/addQuestions',\n        query: {\n          paperId: this.paperId,\n          subject: this.source,\n          tabs: 'second'\n        }\n      });\n    },\n\n    goBack() {\n      this.$router.push({\n        path: '/setPaper'\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgEA;AAGA,OAAOA,OAAP,MAAoB,iBAApB;AAEA,eAAe;AACbC,MAAI,EAAE,aADO;AAEbC,YAAU,EAAE,EAFC;;AAIbC,MAAI,GAAG;AACL,WAAO;AACLC,YAAM,EAAE,EADH;AAELC,kBAAY,EAAE,CAFT;AAGLC,eAAS,EAAE,EAHN;AAILC,WAAK,EAAE,CAJF;AAKLC,mBAAa,EAAC,KALT;AAMLC,aAAO,EAAC,EANH;AAOLC,aAAO,EAAC,CAPH;AAQLC,UAAI,EAAC,EARA;AASLC,eAAS,EAAE;AATN,KAAP;AAWD,GAhBY;;AAiBbC,SAAO,GAAG;AACR,SAAKC,IAAL;AACD,GAnBY;;AAoBbC,SAAO,EAAE;AACPD,QAAI,GAAE;AACJ,WAAKL,OAAL,GAAe,KAAKO,MAAL,CAAYC,KAAZ,CAAkBR,OAAjC,CADI,CACqC;;AACzC,WAAKC,OAAL,GAAe,KAAKM,MAAL,CAAYC,KAAZ,CAAkBP,OAAjC,CAFI,CAEqC;;AACzCQ,aAAO,CAACC,GAAR,CAAY,KAAKT,OAAjB;AACAV,aAAO,CAACoB,GAAR,CAAY,cAAZ,EAA4B;AAC1BC,cAAM,EAAC;AACL;AACA;AACA;AACAX,iBAAO,EAAC,KAAKA;AAJR;AADmB,OAA5B,EAOGY,IAPH,CAOQC,GAAE,IAAK;AACbL,eAAO,CAACC,GAAR,CAAYI,GAAZ;AACA,aAAKX,SAAL,GAAiBW,GAAG,CAACpB,IAAJ,CAAS,CAAT,EAAYqB,MAAZ,CAAmBD,GAAG,CAACpB,IAAJ,CAAS,CAAT,EAAYqB,MAAZ,CAAmBD,GAAG,CAACpB,IAAJ,CAAS,CAAT,CAAnB,CAAnB,CAAjB;AACA,aAAKI,KAAL,GAAagB,GAAG,CAACpB,IAAJ,CAASI,KAAtB;AACD,OAXD;AAYD,KAjBM;;AAkBPkB,cAAU,CAACC,GAAD,EAAM;AACd,WAAKf,IAAL,GAAYgB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,GAAf,CAAX,CAAZ;AACA,WAAKlB,aAAL,GAAqB,IAArB;AAED,KAtBM;;AAuBPsB,oBAAgB,CAACC,QAAD,EAAW;AAAC;AAC1B,WAAKzB,SAAL,GAAiByB,QAAjB;AACA,WAAKjB,IAAL;AACD,KA1BM;;AA2BPkB,uBAAmB,CAACC,OAAD,EAAU;AAAC;AAC5B,WAAK5B,YAAL,GAAoB4B,OAApB;AACA,WAAKnB,IAAL;AACD,KA9BM;;AA+BPoB,qBAAiB,CAAC;AAAER,SAAF;AAAOS;AAAP,KAAD,EAAoB;AACnC,UAAIA,QAAO,GAAI,CAAX,IAAgB,CAApB,EAAuB;AACrB,eAAO,aAAP;AACF,OAFA,MAEO;AACL,eAAO,aAAP;AACF;AACD,KArCM;;AAuCPC,WAAO,GAAG;AAAE;AACV,WAAKC,OAAL,CAAaC,IAAb,CAAkB;AAACC,YAAI,EAAC,eAAN;AAAsBtB,aAAK,EAAE;AAACP,iBAAO,EAAE,KAAKA,OAAf;AAAuBD,iBAAO,EAAC,KAAK+B,MAApC;AAA2CC,cAAI,EAAC;AAAhD;AAA7B,OAAlB;AACD,KAzCM;;AA0CPC,UAAM,GAAE;AACN,WAAKL,OAAL,CAAaC,IAAb,CAAkB;AAACC,YAAI,EAAC;AAAN,OAAlB;AACF;;AA5CO;AApBI,CAAf","names":["request","name","components","data","search","currentPage4","pageSize4","total","dialogVisible","subject","paperId","form","tableData","created","load","methods","$route","query","console","log","get","params","then","res","concat","handleEdit","row","JSON","parse","stringify","handleSizeChange","pageSize","handleCurrentChange","pageNum","tableRowClassName","rowIndex","autoAdd","$router","push","path","source","tabs","goBack"],"sourceRoot":"","sources":["F:\\21-22-2\\大三短学期\\大作业\\Spring-Vue-Exam-Pure-main\\Spring-Vue-Exam-Pure-main\\vue\\src\\components\\teacher\\PaperManage.vue"],"sourcesContent":["<template>\r\n  <div v-wechat-title=\"$route.meta.title\" class=\"home\" style=\"padding: 20px\">\r\n    <el-page-header  content=\"\" @back=\"goBack\" />\r\n\r\n    <!--    功能-->\r\n    <div style=\"margin: 10px 0\">\r\n\r\n<!--      <el-button type=\"primary\">导入</el-button>-->\r\n<!--      <el-button type=\"primary\">导出</el-button>-->\r\n<!--      <el-button type=\"primary\" @click=\"handAdd\">手动组卷</el-button>-->\r\n      <el-button type=\"primary\" @click=\"autoAdd\">自动组卷</el-button>\r\n\r\n    </div>\r\n    <!--    搜索-->\r\n    <div style=\"margin: 10px 0\">\r\n      <el-input v-model=\"search\" placeholder=\"请输入关键字\" style=\"width: 20%\" clearable></el-input>\r\n      <el-button type=\"primary\" style=\"margin-left: 5px\" @click=\"load\">搜索</el-button>\r\n    </div>\r\n    <!--表格-->\r\n    <el-table\r\n        :data=\"tableData\"\r\n        stripe\r\n        height=\"600\"\r\n        style=\"width: 100%; text-align: center\"\r\n        :row-class-name=\"tableRowClassName\"\r\n        show-summary\r\n        border>\r\n      <el-table-column prop=\"subject\" label=\"试卷名称\" sortable/>\r\n      <el-table-column prop=\"question\" label=\"题目信息\" ></el-table-column>\r\n      <el-table-column prop=\"section\" label=\"所属章节\" ></el-table-column>\r\n      <el-table-column prop=\"type\" label=\"题目类型\" ></el-table-column>\r\n      <el-table-column prop=\"score\" label=\"试题分数\" ></el-table-column>\r\n      <el-table-column prop=\"level\" label=\"难度等级\"></el-table-column>\r\n      <!--      -->\r\n      <!--      <el-table-column label=\"操作\">-->\r\n      <!--        <template #default=\"scope\">-->\r\n      <!--          <el-button @click=\"handleEdit(scope.row)\">编辑</el-button>-->\r\n      <!--          <el-popconfirm title=\"确认删除?\" @confirm=\"handleDelete(scope.row.id)\">-->\r\n      <!--            <template #reference>-->\r\n      <!--              <el-button type=\"danger\">删除</el-button>-->\r\n      <!--            </template>-->\r\n      <!--          </el-popconfirm>-->\r\n      <!--        </template>-->\r\n      <!--      </el-table-column>-->\r\n    </el-table>\r\n\r\n    <div style=\"margin: 10px 0\">\r\n      <!--      分页-->\r\n      <el-pagination\r\n          v-model:currentPage=\"currentPage4\"\r\n          v-model:page-size=\"pageSize4\"\r\n          :page-sizes=\"[5, 10, 15, 20]\"\r\n          :small=\"small\"\r\n          :disabled=\"disabled\"\r\n          :background=\"background\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// @ is an alias to /src\r\n\r\n\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: 'paperManage',\r\n  components: {},\r\n\r\n  data() {\r\n    return {\r\n      search: '',\r\n      currentPage4: 1,\r\n      pageSize4: 10,\r\n      total: 0,\r\n      dialogVisible:false,\r\n      subject:'',\r\n      paperId:0,\r\n      form:{},\r\n      tableData: [],\r\n    }\r\n  },\r\n  created() {\r\n    this.load()\r\n  },\r\n  methods: {\r\n    load(){\r\n      this.subject = this.$route.query.subject //获取试卷名称\r\n      this.paperId = this.$route.query.paperId //获取paperId\r\n      console.log(this.paperId)\r\n      request.get(\"/paperManage\", {\r\n        params:{\r\n          // pageNum:this.currentPage4,\r\n          // pageSize:this.pageSize4,\r\n          // search:this.search,\r\n          paperId:this.paperId\r\n        }\r\n      }).then(res => {\r\n        console.log(res)\r\n        this.tableData = res.data[1].concat(res.data[2].concat(res.data[3]))\r\n        this.total = res.data.total\r\n      })\r\n    },\r\n    handleEdit(row) {\r\n      this.form = JSON.parse(JSON.stringify(row))\r\n      this.dialogVisible = true\r\n\r\n    },\r\n    handleSizeChange(pageSize) {//改变当前每页的个数\r\n      this.pageSize4 = pageSize\r\n      this.load()\r\n    },\r\n    handleCurrentChange(pageNum) {//改变当前页码\r\n      this.currentPage4 = pageNum\r\n      this.load()\r\n    },\r\n    tableRowClassName({ row, rowIndex }) {\r\n      if (rowIndex % 2 == 0) {\r\n        return \"warning-row\";\r\n      } else {\r\n        return \"success-row\";\r\n      }\r\n    },\r\n\r\n    autoAdd() { //自动增加题库\r\n      this.$router.push({path:'/addQuestions',query: {paperId: this.paperId,subject:this.source,tabs:'second'}})\r\n    },\r\n    goBack(){\r\n      this.$router.push({path:'/setPaper'})\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.el-table .warning-row {\r\n  --el-table-tr-bg-color: var(--el-color-warning-light-9);\r\n}\r\n.el-table .success-row {\r\n  --el-table-tr-bg-color: var(--el-color-success-light-9);\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}
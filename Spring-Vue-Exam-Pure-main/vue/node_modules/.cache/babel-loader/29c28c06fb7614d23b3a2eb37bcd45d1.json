{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-670d39c3\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"part\"\n};\nconst _hoisted_2 = {\n  class: \"box\",\n  ref: \"box\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"该门考试还没人参考哦,请提醒学生参加考试。\", -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = [_hoisted_4];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_page_header = _resolveComponent(\"el-page-header\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_page_header, {\n    content: \"\",\n    onBack: $options.goBack\n  }, null, 8\n  /* PROPS */\n  , [\"onBack\"]), _createElementVNode(\"div\", _hoisted_2, null, 512\n  /* NEED_PATCH */\n  ), $data.isNull ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _hoisted_5)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":";;;;;AACOA,OAAK,EAAC;;;AAEJA,OAAK,EAAC;AAAMC,KAAG,EAAC;;;;;;gEAEnBC,oBAAkC,MAAlC,EAAkC,IAAlC,EAAM,uBAAN,EAA2B;AAAA;AAA3B;;oBAAAC;;;;uBAJJC,oBAMM,KANN,cAMM,CALJC,aAA6CC,yBAA7C,EAA6C;AAA5BC,WAAO,EAAC,EAAoB;AAAhBC,UAAI,EAAEC;AAAU,GAA7C;;AAAA,eAKI,EAJJP,oBAAiC,KAAjC,cAAiC,IAAjC,EAAiC;AAAA;AAAjC,GAII,EAHOQ,8BAAXN,oBAEM,KAFN,EAEMO,UAFN,EAEMC,UAFN,sCAGI,CANN","names":["class","ref","_createElementVNode","_hoisted_4","_createElementBlock","_createVNode","_component_el_page_header","content","onBack","$options","$data","_hoisted_3","_hoisted_5"],"sourceRoot":"","sources":["F:\\21-22-2\\大三短学期\\大作业\\Spring-Vue-Exam-Pure-main\\Spring-Vue-Exam-Pure-main\\vue\\src\\components\\charts\\AGradePart.vue"],"sourcesContent":["<template>\r\n  <div class=\"part\" >\r\n    <el-page-header  content=\"\" @back=\"goBack\" />\r\n    <div class=\"box\" ref=\"box\"></div>\r\n    <div v-if=\"isNull\">\r\n      <span>该门考试还没人参考哦,请提醒学生参加考试。</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport * as echarts from 'echarts'\r\nexport default {\r\n  name: \"gradePart\",\r\n  data() {\r\n    return {\r\n      isNull: false, //是否有成绩标志位\r\n      name: null,\r\n      category: { //保存分数段\r\n        '90分及以上': 0,\r\n        '80-89分': 0,\r\n        '70-79分': 0,\r\n        '60-69分': 0,\r\n        '60分以下': 0,\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getScoreInfo()\r\n\r\n  },\r\n  methods: {\r\n    getScoreInfo() {\r\n      let examCode = this.$route.query.examCode\r\n      this.name = this.$route.query.source\r\n      console.log(this.name)\r\n      request.get(\"/score\",{\r\n        params:{\r\n          search:examCode\r\n        }\r\n      }).then(res => {\r\n        console.log(res)\r\n        let data = res.data.records\r\n        if(data.length > 0) {\r\n          let box = this.$refs['box']\r\n          let charts = echarts.init(box)\r\n          data.forEach(element => {\r\n            switch(element.etScore / 10) {\r\n              case 10:\r\n              case 9:\r\n                this.category[\"90分及以上\"]++\r\n                break\r\n              case 8:\r\n                this.category['80-89分']++\r\n                break\r\n              case 7:\r\n                this.category[\"70-79分\"]++\r\n                break\r\n              case 6:\r\n                this.category['60-69分']++\r\n                break\r\n              default:\r\n                this.category['60分以下']++\r\n            }\r\n          });\r\n          let option = {\r\n            title : {\r\n              text: `${res.data.records[\"0\"].subject}分数段图`,\r\n              subtext: '分数段饼图',\r\n              x:'center'\r\n            },\r\n            tooltip : {\r\n              trigger: 'item',\r\n              formatter: \"{a}：{b} <br/> {c}人 ({d}%)\"\r\n            },\r\n            legend: {\r\n              orient: 'vertical',\r\n              left: 'left',\r\n              data: ['90分及以上','80-89分','70-79分','60-69分','60分以下']\r\n            },\r\n            series : [\r\n              {\r\n                name: '分数段',\r\n                type: 'pie',\r\n                radius : '35%',\r\n                center: ['50%', '35%'],\r\n                data:[\r\n                  {value:this.category['90分及以上'], name:'90分及以上'},\r\n                  {value:this.category['80-89分'], name:'80-89分'},\r\n                  {value:this.category['70-79分'], name:'70-79分'},\r\n                  {value:this.category['60-69分'], name:'60-69分'},\r\n                  {value:this.category['60分以下'], name:'60分以下'}\r\n                ],\r\n                itemStyle: {\r\n                  emphasis: {\r\n                    shadowBlur: 10,\r\n                    shadowOffsetX: 0,\r\n                    shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                  }\r\n                }\r\n              }\r\n            ]\r\n          };\r\n          charts.setOption(option)\r\n        }else {\r\n          this.isNull = true\r\n        }\r\n      })\r\n    },\r\n    goBack(){\r\n        this.$router.push({path:'/adminScorePartOne',query:{examCode: this.$route.query.examCode }})\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.part {\r\n  padding: 10px;\r\n  .box {\r\n    padding: 40px;\r\n    width: 800px;\r\n    height: 800px;\r\n    margin-left: 40px;\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}
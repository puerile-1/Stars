{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6769af0d\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  id: \"grade\"\n};\nconst _hoisted_2 = {\n  ref: \"box\",\n  class: \"box\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"notFound\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"iconfont icon-LC_icon_tips_fill\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"该考生未参加考试\", -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = [_hoisted_4, _hoisted_5];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_page_header = _resolveComponent(\"el-page-header\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_page_header, {\n    content: \"\",\n    onBack: $options.goBack\n  }, null, 8\n  /* PROPS */\n  , [\"onBack\"]), _createElementVNode(\"div\", _hoisted_2, null, 512\n  /* NEED_PATCH */\n  ), $data.isNull ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _hoisted_6)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":";;;;;AACOA,IAAE,EAAC;;;AAEDC,KAAG,EAAC;AAAMC,OAAK,EAAC;;;;AAChBA,OAAK,EAAC;;;gEACTC,oBAA+C,GAA/C,EAA+C;AAA5CD,OAAK,EAAC;AAAsC,CAA/C,EAA0C,IAA1C,EAA0C;AAAA;AAA1C;;gEAA+CC,oBAAqB,MAArB,EAAqB,IAArB,EAAM,UAAN,EAAc;AAAA;AAAd;;oBAA/CC,YAA+CC;;;;uBAJnDC,oBAMM,KANN,cAMM,CALJC,aAA6CC,yBAA7C,EAA6C;AAA5BC,WAAO,EAAC,EAAoB;AAAhBC,UAAI,EAAEC;AAAU,GAA7C;;AAAA,eAKI,EAJJR,oBAAiC,KAAjC,cAAiC,IAAjC,EAAiC;AAAA;AAAjC,GAII,EAHwBS,8BAA5BN,oBAEM,KAFN,cAEMO,UAFN,sCAGI,CANN","names":["id","ref","class","_createElementVNode","_hoisted_4","_hoisted_5","_createElementBlock","_createVNode","_component_el_page_header","content","onBack","$options","$data","_hoisted_6"],"sourceRoot":"","sources":["F:\\21-22-2\\大三短学期\\大作业\\Spring-Vue-Exam-Pure-main\\Spring-Vue-Exam-Pure-main\\vue\\src\\components\\charts\\Grade.vue"],"sourcesContent":["<template>\r\n  <div id=\"grade\">\r\n    <el-page-header  content=\"\" @back=\"goBack\" />\r\n    <div ref=\"box\" class=\"box\"></div>\r\n    <div class=\"notFound\" v-if=\"isNull\">\r\n      <i class=\"iconfont icon-LC_icon_tips_fill\"></i><span>该考生未参加考试</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport * as echarts from 'echarts'\r\nexport default {\r\n  name: \"Grade\",\r\n  data() {\r\n    return {\r\n      isNull: false, //原始数据\r\n      tableDataX: [], //x轴数据 保存次数\r\n      tableDataY: [], //y轴数据 保存分数\r\n      title: [],\r\n      exam_subject: [],\r\n      rootData:[],\r\n      name: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    this.score();\r\n  },\r\n  methods: {\r\n    score() {\r\n      let studentId = this.$route.query.studentId\r\n      request.get(\"/score/\"+studentId).then(res => { //根据学生Id查询成绩\r\n        console.log(res)\r\n        if(res.code === '0') {\r\n          this.rootData = res.data.records\r\n          this.name = this.rootData[0].studentName\r\n          this.rootData.forEach((element,index) => {\r\n            this.tableDataX.push(`第${index + 1}次`)\r\n            this.tableDataY.push(element.etScore)\r\n            this.exam_subject.push(element.subject)\r\n          });\r\n          let boxDom = this.$refs[\"box\"];\r\n          // console.log(boxDom)\r\n          let scoreCharts = echarts.init(boxDom)\r\n          // let scoreCharts = this.echarts.init(boxDom);\r\n          let option = {\r\n             title: {\r\n               text: this.name\r\n             },\r\n            backgroundColor: '#f1ecec',\r\n            tooltip: {\r\n              type:\"shadow\",\r\n              trigger: 'axis',\r\n              // 自定义悬浮框展示的内容。此json对象的内容可自定义，我只是举个例子。{name: '内容标题'， value：'可以是任意字符，根据业务需求来吧'}\r\n              formatter(params) {\r\n                // console.log(params.value)\r\n                return `考试科目：${this.rootData[params[0].axisIndex].subject} 时间：${this.rootData[params[0].axisIndex].answerDate}`\r\n              }\r\n            },\r\n            xAxis: {\r\n              type: \"category\",\r\n              data: this.tableDataX\r\n            },\r\n            yAxis: {\r\n              type: \"value\"\r\n            },\r\n            series: [\r\n              {\r\n                data: this.tableDataY,\r\n                type: \"line\",\r\n                itemStyle: { normal: { label: { show: true } } }\r\n              }\r\n            ]\r\n          };\r\n          scoreCharts.setOption(option);\r\n          scoreCharts.on(\"mouseover\", params => {\r\n            console.log(params);\r\n          });\r\n        }else {\r\n          this.isNull = true\r\n        }\r\n      })\r\n    },\r\n    goBack(){\r\n      if(this.$cookies.get(\"data\").role == 1)\r\n        this.$router.push({path:'/scoreOne',query:{studentId:this.$route.query.studentId}})\r\n      else {\r\n        this.$router.push({path:'/adminScoreOne',query:{studentId:this.$route.query.studentId}})\r\n\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#grade {\r\n  padding: 20px;\r\n  position: relative;\r\n  .box{\r\n    padding: 30px;\r\n    width: 1500px;\r\n    height: 700px;\r\n  }\r\n  .notFound {\r\n    position: absolute;\r\n    top: 20px;\r\n    left: 20px;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}
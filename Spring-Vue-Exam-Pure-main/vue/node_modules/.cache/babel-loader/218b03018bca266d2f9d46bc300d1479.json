{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-171202c0\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"table\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"title\"\n}, \"我的分数\", -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  style: {\n    \"margin\": \"10px 0\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n\n  const _component_el_table = _resolveComponent(\"el-table\");\n\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n\n  const _directive_wechat_title = _resolveDirective(\"wechat-title\");\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createCommentVNode(\"表格\"), _createVNode(_component_el_table, {\n    data: $data.tableData,\n    stripe: \"\",\n    height: \"600\",\n    style: {\n      \"width\": \"100%\",\n      \"text-align\": \"center\"\n    },\n    border: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"subject\",\n      label: \"考试科目\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"answerDate\",\n      label: \"考试日期\",\n      sortable: \"\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"etScore\",\n      label: \"分数\"\n    }), _createVNode(_component_el_table_column, {\n      label: \"是否及格\"\n    }, {\n      default: _withCtx(scope => [_createVNode(_component_el_tag, {\n        type: scope.row.etScore >= 60 ? 'success' : 'danger',\n        \"disable-transitions\": \"\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.etScore >= 60 ? \"及格\" : \"不及格\"), 1\n        /* TEXT */\n        )]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"type\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createCommentVNode(\"      \"), _createCommentVNode(\"      <el-table-column label=\\\"操作\\\">\"), _createCommentVNode(\"        <template #default=\\\"scope\\\">\"), _createCommentVNode(\"          <el-button @click=\\\"handleEdit(scope.row)\\\">编辑</el-button>\"), _createCommentVNode(\"          <el-popconfirm title=\\\"确认删除?\\\" @confirm=\\\"handleDelete(scope.row.id)\\\">\"), _createCommentVNode(\"            <template #reference>\"), _createCommentVNode(\"              <el-button type=\\\"danger\\\">删除</el-button>\"), _createCommentVNode(\"            </template>\"), _createCommentVNode(\"          </el-popconfirm>\"), _createCommentVNode(\"        </template>\"), _createCommentVNode(\"      </el-table-column>\")]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"data\"]), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\"      分页\"), _createVNode(_component_el_pagination, {\n    currentPage: $data.currentPage4,\n    \"onUpdate:currentPage\": _cache[0] || (_cache[0] = $event => $data.currentPage4 = $event),\n    \"page-size\": $data.pageSize4,\n    \"onUpdate:page-size\": _cache[1] || (_cache[1] = $event => $data.pageSize4 = $event),\n    \"page-sizes\": [5, 10, 15, 20],\n    small: _ctx.small,\n    disabled: _ctx.disabled,\n    background: _ctx.background,\n    layout: \"total, sizes, prev, pager, next, jumper\",\n    total: $data.total,\n    onSizeChange: $options.handleSizeChange,\n    onCurrentChange: $options.handleCurrentChange\n  }, null, 8\n  /* PROPS */\n  , [\"currentPage\", \"page-size\", \"small\", \"disabled\", \"background\", \"total\", \"onSizeChange\", \"onCurrentChange\"])])])), [[_directive_wechat_title, _ctx.$route.meta.title]]);\n}","map":{"version":3,"mappings":";;;;;AAE0CA,OAAK,EAAC;;;gEAC5CC,oBAAyB,GAAzB,EAAyB;AAAtBD,OAAK,EAAC;AAAgB,CAAzB,EAAiB,MAAjB,EAAqB;AAAA;AAArB;;;AAkCKE,OAAsB,EAAtB;AAAA;AAAA;;;;;;;;;;;;;wCAnCPC,oBAiDM,KAjDN,cAiDM,CAhDJC,UAgDI,EA/CJC,yBA+CI,EA9CJC,aA8BWC,mBA9BX,EA8BW;AA7BNC,QAAI,EAAEC,eA6BA;AA5BPC,UAAM,EAAN,EA4BO;AA3BPC,UAAM,EAAC,KA2BA;AA1BPT,SAAuC,EAAvC;AAAA;AAAA;AAAA,KA0BO;AAzBPU,UAAM,EAAN;AAyBO,GA9BX;sBAME,MAAgE,CAAhEN,aAAgEO,0BAAhE,EAAgE;AAA/CC,UAAI,EAAC,SAA0C;AAAhCC,WAAK,EAAC;AAA0B,KAAhE,CAAgE,EAChET,aAA2EO,0BAA3E,EAA2E;AAA1DC,UAAI,EAAC,YAAqD;AAAxCC,WAAK,EAAC,MAAkC;AAA3BC,cAAQ,EAAR;AAA2B,KAA3E,CADgE,EAEhEV,aAA8DO,0BAA9D,EAA8D;AAA7CC,UAAI,EAAC,SAAwC;AAA9BC,WAAK,EAAC;AAAwB,KAA9D,CAFgE,EAGhET,aASkBO,0BATlB,EASkB;AATDE,WAAK,EAAC;AASL,KATlB,EAA6B;AAEhBE,aAAO,WAAEC,KAClB,IADuB,CACvBZ,aAICa,iBAJD,EAIC;AAHIC,YAAI,EAAEF,KAAK,CAACG,GAAN,CAAUC,OAAV,IAAiB,EAAjB,GAAiB,SAAjB,GAAiB,QAG3B;AAFG;AAEH,OAJD;0BAGC,MAA2C,mCAAxCJ,KAAK,CAACG,GAAN,CAAUC,OAAV,IAAiB,EAAjB,GAAiB,IAAjB,GAAiB;AAAA;SAAuB;;;;OAH5C;;AAAA,iBADuB,CAAP,CAFS;;;;AAAA,KAA7B,CAHgE,EAahEjB,6BAbgE,EAchEA,2DAdgE,EAehEA,4DAfgE,EAgBhEA,2FAhBgE,EAiBhEA,wGAjBgE,EAkBhEA,wDAlBgE,EAmBhEA,8EAnBgE,EAoBhEA,8CApBgE,EAqBhEA,iDArBgE,EAsBhEA,0CAtBgE,EAuBhEA,+CAvBgE;;;;GANlE;;AAAA,aA8CI,EAdJJ,oBAaM,KAbN,cAaM,CAZJI,+BAYI,EAXJC,aAU2CiB,wBAV3C,EAU2C;AAT/BC,eAAW,EAAEf,kBASkB;gEATlBA,qBAAYgB,OASM;AAR/B,iBAAWhB,eAQoB;8DARpBA,kBAASgB,OAQW;AAPtC,kBAAY,eAO0B;AANtCC,SAAK,EAAEC,UAM+B;AALtCC,YAAQ,EAAED,aAK4B;AAJtCE,cAAU,EAAEF,eAI0B;AAHvCG,UAAM,EAAC,yCAGgC;AAFtCC,SAAK,EAAEtB,WAE+B;AADtCuB,gBAAW,EAAEC,yBACyB;AAAtCC,mBAAc,EAAED;AAAsB,GAV3C;;AAAA,gHAWI,CAbN,CAcI,CAjDN,+BAAqBN,YAAOQ,IAAP,CAAYC","names":["class","_createElementVNode","style","_createElementBlock","_hoisted_2","_createCommentVNode","_createVNode","_component_el_table","data","$data","stripe","height","border","_component_el_table_column","prop","label","sortable","default","scope","_component_el_tag","type","row","etScore","_component_el_pagination","currentPage","$event","small","_ctx","disabled","background","layout","total","onSizeChange","$options","onCurrentChange","meta","title"],"sourceRoot":"","sources":["F:\\21-22-2\\大三短学期\\大作业\\Spring-Vue-Exam-Pure-main\\Spring-Vue-Exam-Pure-main\\vue\\src\\components\\student\\scoreTable.vue"],"sourcesContent":["//显示学生成绩\n<template>\n  <div v-wechat-title=\"$route.meta.title\" class=\"table\">\n    <p class=\"title\">我的分数</p>\n    <!--表格-->\n    <el-table\n        :data=\"tableData\"\n        stripe\n        height=\"600\"\n        style=\"width: 100%; text-align: center\"\n        border>\n      <el-table-column prop=\"subject\" label=\"考试科目\" ></el-table-column>\n      <el-table-column prop=\"answerDate\" label=\"考试日期\" sortable></el-table-column>\n      <el-table-column prop=\"etScore\" label=\"分数\" ></el-table-column>\n      <el-table-column label=\"是否及格\" >\n<!--        <el-tag :type=\"tableData.etScore>= 60 ? 'success' : 'danger'\">{{tableData.etScore >= 60 ? \"及格\" : \"不及格\"}}</el-tag>-->\n        <template #default=\"scope\">\n          <el-tag\n              :type=\"scope.row.etScore >= 60 ? 'success' : 'danger'\"\n              disable-transitions\n          >{{ scope.row.etScore >= 60 ? \"及格\" : \"不及格\"}}</el-tag\n          >\n        </template>\n      </el-table-column>\n      <!--      -->\n      <!--      <el-table-column label=\"操作\">-->\n      <!--        <template #default=\"scope\">-->\n      <!--          <el-button @click=\"handleEdit(scope.row)\">编辑</el-button>-->\n      <!--          <el-popconfirm title=\"确认删除?\" @confirm=\"handleDelete(scope.row.id)\">-->\n      <!--            <template #reference>-->\n      <!--              <el-button type=\"danger\">删除</el-button>-->\n      <!--            </template>-->\n      <!--          </el-popconfirm>-->\n      <!--        </template>-->\n      <!--      </el-table-column>-->\n    </el-table>\n\n    <div style=\"margin: 10px 0\">\n      <!--      分页-->\n      <el-pagination\n          v-model:currentPage=\"currentPage4\"\n          v-model:page-size=\"pageSize4\"\n          :page-sizes=\"[5, 10, 15, 20]\"\n          :small=\"small\"\n          :disabled=\"disabled\"\n          :background=\"background\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  data() {\n    return {\n      search: '',\n      currentPage4: 1,\n      pageSize4: 10,\n      total: 0,\n      dialogVisible:false,\n      form:{},\n      tableData: []\n    }\n  },\n  created() {\n    this.load()\n    this.loading = true //数据加载则遮罩表格\n  },\n  methods: {\n    load() {\n      let studentId = this.$cookies.get(\"data\").studentId\n      request.get(\"/score/\"+studentId,{\n        params:{\n          pageNum:this.currentPage4,\n          pageSize:this.pageSize4,\n        }\n      }).then(res => {\n        console.log(res)\n        if(res.code == '0') {\n          this.tableData = res.data.records\n          this.total = res.data.total\n          this.loading = false //数据加载完成去掉遮罩\n          //\n          // this.score = res.data.records[0].etScore\n          // this.pagination = {...res.data.records[0]}\n          // let mapVal = this.score.map((element,index) => { //通过map得到 filter:[{text,value}]形式的数组对象\n          //   let newVal = {}\n          //   newVal.text = element.answerDate\n          //   newVal.value = element.answerDate\n          //   return newVal\n          // })\n          // let hash = []\n          // const newArr = mapVal.reduce((item, next) => { //对新对象进行去重操作\n          //   hash[next.text] ? '' : hash[next.text] = true && item.push(next);\n          //   return item\n          // }, []);\n          // this.filter = newArr\n        }\n      })\n    },\n    handleSizeChange(pageSize) {//改变当前每页的个数\n      this.pageSize4 = pageSize\n      this.load()\n    },\n    handleCurrentChange(pageNum) {//改变当前页码\n      this.currentPage4 = pageNum\n      this.load()\n    },\n    formatter(row, column) {\n      return row.address;\n    },\n    filterTag(value, row) {\n      return row.tag === value;\n    },\n    filterHandler(value, row, column) {\n      const property = column[\"property\"];\n      return row[property] === value;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.pagination {\n  padding-top: 20px;\n}\n.table {\n  width: 980px;\n  margin: 0 auto;\n  .title {\n    margin: 20px;\n  }\n  .content-el {\n    background-color: #fff;\n    padding: 20px;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}